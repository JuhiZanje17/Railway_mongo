<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
        <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
        <style>
            table,th,td{
                border:1px solid black;
                border-collapse:collapse;
            }
        </style>
    </head>
        <body>
            <table id="tab"> 
                <thead>
                <tr>
                    <td>TrainNo</td>
                    <td>TrainName</td>
                    <td>SEQ</td>
                    <td>StationCode</td>
                    <td>StationName</td>
                    <td>ArrivalTime</td>
                    <td>DepartureTime</td>
                    <td>Distance</td>
                    <td>SourcetSation</td>
                    <td>SourceStationName</td>
                    <td>DestinationStation</td>
                    <td>DestinationStationName</td>
                </tr>
            </thead>
                <tbody>
                    <tr></tr>
                </tbody>
            </table>
            
        </body>
</html>

<script>

    fetch('http://localhost:8080/fetch')
    .then(response=>response.json())
    .then(data=>{
            
            window.dataset=[];

            for(var i=0;i<data.length;i++)
            {
                window.dataArr=[];
                var j=i+1;
                dataArr.push(j);
                dataArr.push(data[i]['TrainNo']);
                dataArr.push(data[i]['TrainName']);
                dataArr.push(data[i]['SEQ']);
                dataArr.push(data[i]['StationCode']);
                dataArr.push(data[i]['StationName']);
                dataArr.push(data[i]['ArrivalTime']);
                dataArr.push(data[i]['DepartureTime']);
                dataArr.push(data[i]['Distance']);
                dataArr.push(data[i]['SourcetSation']);
                dataArr.push(data[i]['SourceStationName']);
                dataArr.push(data[i]['DestinationStation']);
                dataArr.push(data[i]['DestinationStationName']);
                dataset.push(dataArr)
            }

            $('#tab').DataTable( {
                data: dataset,
            } );

        
      
    })
</script>

<!-- // for(i=1;i<10;i++)//data.length
// {
    //     $('#tab').append("<tr><td>"+data[i]['TrainNo']+"</td><td>"+data[i]['TrainName']+"</td><td>"+data[i]['SEQ']+
    //         "</td><td>"+data[i]['StationCode']+"</td><td>"+data[i]['StationName']+"</td><td>"+data[i]['ArrivalTime']+
    //             "</td><td>"+data[i]['DepartureTime']+"</td><td>"+data[i]['Distance']+"</td><td>"+data[i]['SourcetSation']+
    //                 "</td><td>"+data[i]['SourceStationName']+ "</td><td>"+data[i]['DestinationStation']+ "</td><td>"+
    //                     data[i]['DestinationStationName']+"</td></tr>")
    //     console.log(data[i]['DestinationStation'])
    // }   -->
